$(function(){function s(){f=r.width()-1,p=r.children().length,m=u[p-1],m>f?(r.children().last().prependTo(c),p-=1,s()):f>u[p]&&(c.children().first().appendTo(r),p+=1,s()),l.attr("data-count",h-p),p===h?l.addClass("hidden"):l.removeClass("hidden")}function t(i){var s=$(i),t=s.closest(".slider").children(".previous"),n=s.closest(".slider").children(".next");s.addClass("active").siblings().removeClass("active").parent().next(".slides").css("left",s.attr("data-position")),t.removeClass("hidden"),n.removeClass("hidden"),s.is(":first-child")?t.addClass("hidden"):s.is(":last-child")&&n.addClass("hidden")}var n,e=$("#mainNav"),a=$(window),d=e.find("a"),o=d.map(function(){var i=$($(this).attr("href"));if(i.length)return i});d.click(function(i){i.preventDefault();var s=this.hash,t=a.scrollTop(),n=$(s).offset().top,e=Math.abs(t-n),d=e/a.height()*200;$("html, body").animate({scrollTop:n},d,function(){window.location.hash=s})}),a.scroll(function(){var i=$(this).scrollTop(),s=o.map(function(){if($(this).offset().top<=i+8)return this});s=s[s.length-1];var t=s&&s.length?s[0].id:"";n!==t&&(n=t,d.parent().removeClass("active").end().filter("[href='#"+t+"']").parent().addClass("active"))});var l=$("#mainNav button"),r=$("#mainNav .horizontal"),c=$("#mainNav .vertical"),h=0,v=0,u=[];r.children().outerWidth(function(i,s){v+=s,h+=1,u.push(v)});var f,p,m,C;a.resize(function(){s()}),l.on("click",function(){c.toggleClass("hidden"),clearTimeout(C)}),c.on("mouseleave",function(){C=setTimeout(function(){c.addClass("hidden")},600)}).on("mouseenter",function(){clearTimeout(C)}),s(),$(".slides").each(function(){var s=$(this),t=s.children("li").length;if(t>1){var n='<span class="previous hidden"><img src="dist/img/icons/previous.svg" alt="previous"></span>';n+='<span class="next"><img src="dist/img/icons/next.svg" alt="next"></span>';var e='<div class="indicators">';for(e+='<span role="button" data-position="0" class="active"></span>',i=1;i<t;i++)e+='<span role="button" data-position="-'+100*i+'vw"></span>';e+="</div>",s.css("width",100*t+"vw").before(n+e)}}),$(".indicators span").click(function(){t(this)}),$(".next").click(function(){$this=$(this);var i=$this.nextAll(".indicators"),s=i.first().children(".active").next();s.is(":last-child")&&$this.addClass("hidden"),t(s),$this.prev().removeClass("hidden")}),$(".previous").click(function(){$this=$(this);var i=$this.nextAll(".indicators"),s=i.first().children(".active").prev();s.is(":first-child")&&$this.addClass("hidden"),t(s),$this.next().removeClass("hidden")}),$("#oldBrowser button").click(function(){$("#oldBrowser").addClass("hidden")})}(jQuery));